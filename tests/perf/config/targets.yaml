apps:
  A2:
    name: scholar_api_aggregator
    base_url_local: http://localhost:5000
    base_url_staging: https://scholarship-api-jamarrlmayes.replit.app
    endpoints:
      events:
        path: /api/telemetry/ingest
        method: POST
        auth: bearer
        concurrency_ceiling: 100
      ready:
        path: /ready
        method: GET
        auth: none
        concurrency_ceiling: 50
      health:
        path: /health
        method: GET
        auth: none
        concurrency_ceiling: 50
    slo:
      p95_latency_ms: 125
      error_rate_percent: 1
      availability_percent: 99.9

test_profiles:
  smoke:
    duration: 5m
    vus: 5
  baseline:
    duration: 15m
    vus: 20
  ramp:
    stages:
      - duration: 5m
        target: 10
      - duration: 5m
        target: 20
      - duration: 5m
        target: 40
      - duration: 5m
        target: 60
  spike:
    stages:
      - duration: 1m
        target: 5
      - duration: 30s
        target: 100
      - duration: 2m
        target: 100
      - duration: 30s
        target: 5
      - duration: 6m
        target: 5
  soak:
    duration: 60m
    vus: 20

tags:
  env: staging
  namespace: perf_test
